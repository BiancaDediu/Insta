(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{132:function(e,n){},145:function(e,n,t){},155:function(e,n,t){},156:function(e,n,t){},158:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(32),c=t.n(i),o=(t(145),t(29)),s=t(13),l=t(7),d=t(8),j=t(22),u=t.n(j),p=t(35),b=t(166),x=t(39),O=t(42),h=t(163),f=t(167),m=t(82);t(160),t(150),t(159);m.a.initializeApp({apiKey:"AIzaSyDsHfqX0qwWDmPC1qe4S1BYF3h2AbBJCuA",authDomain:"instagram-clone-91e88.firebaseapp.com",projectId:"instagram-clone-91e88",storageBucket:"instagram-clone-91e88.appspot.com",messagingSenderId:"126999824339",appId:"1:126999824339:web:691ffa597e818b049d5126"});var g,v,y,w,S,U,k,C,M,I,z,N,P,L,E,A,T,B,D,R,V,F,Y,q,H,W,X,_,J,K,G,Q,Z,$,ee,ne,te,ae,re,ie,ce,oe,se,le,de,je,ue,pe,be,xe,Oe,he,fe,me,ge,ve,ye,we,Se,Ue=m.a.auth(),ke=m.a.firestore(),Ce=m.a.storage(),Me=m.a,Ie=t(2),ze=function(e){var n,t=e.handleDeletePost,a=e.postId,r=e.username,i=Object(Ie.jsx)(h.a,{children:r===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)?Object(Ie.jsx)(h.a.Item,{onClick:function(){return t(a)},children:"Delete"},"deleteItem"):""});return Object(Ie.jsx)("div",{children:Object(Ie.jsx)(f.a,{overlay:i,trigger:["click"],children:Object(Ie.jsx)(x.a,{icon:O.e})})})},Ne=d.a.div(g||(g=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n"]))),Pe=d.a.span(v||(v=Object(l.a)(["\n  font-weight: 600;\n  margin-left: 10px;\n"]))),Le=function(e){var n,t=e.username,a=e.avatarUrl,r=e.postId,i=e.handleDeletePost,c=e.setIsOpenedUserModal;return Object(Ie.jsxs)(Ne,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(b.a,{alt:t,src:a,children:null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toLocaleUpperCase()}),Object(Ie.jsx)(Pe,{children:t})]}),Object(Ie.jsx)("div",{children:Object(Ie.jsx)(ze,{handleDeletePost:i,postId:r,username:t,openUserModal:function(){return c(!0)}})})]})},Ee=t(46),Ae=t(165),Te=t(49),Be=d.a.div(y||(y=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 5px;\n  margin-right: 10px;\n\n  svg {\n    margin: 0 5px;\n    margin-top: 11px;\n  }\n"]))),De=Object(d.a)(x.a)(w||(w=Object(l.a)(["\n  color: black;\n  font-size: 20px;\n  margin-top: 12px;\n  margin-left: 6px;\n"]))),Re=d.a.div(S||(S=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ve=Object(d.a)(Ee.a)(U||(U=Object(l.a)(["\n  background: transparent;\n  padding: 0 10px;\n  color: inherit;\n  display: flex;\n  align-items: flex-start;\n  border: 0;\n  box-shadow: none;\n  :hover,\n  :focus {\n    background: transparent;\n    color: inherit;\n    outline: none;\n  }\n"]))),Fe=d.a.div(k||(k=Object(l.a)(["\n  strong {\n    margin-left: 10px;\n  }\n  margin-bottom: 16px;\n"]))),Ye=function(e){var n,t,r=e.id,i=e.setOpenedLikesModal,c=e.openedLikesModal,l=e.openedSavePostsModal,d=e.setOpenedSavePostsModal,j=Object(a.useState)([]),x=Object(s.a)(j,2),h=x[0],f=x[1],m=Object(a.useState)([]),g=Object(s.a)(m,2),v=g[0],y=g[1],w=Object(a.useState)(),S=Object(s.a)(w,2),U=S[0],k=S[1],C=Object(a.useState)(),M=Object(s.a)(C,2),I=M[0],z=M[1],N=Object(a.useMemo)((function(){return ke.collection("posts").doc(r).collection("likes")}),[r]),P=Object(a.useMemo)((function(){return ke.collection("posts").doc(r).collection("save")}),[r]);Object(a.useEffect)((function(){N.onSnapshot((function(e){var n=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));f(n),k(n.find((function(e){var n;return e.username===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)})))}))}),[N]);var L=function(){var e=Object(p.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=5;break}return e.next=3,N.doc(U.id).delete();case 3:e.next=6;break;case 5:N.add({username:Ue.currentUser.displayName,avatarUrl:null===(n=Ue.currentUser)||void 0===n?void 0:n.photoURL});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P.onSnapshot((function(e){var n=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));y(n),z(n.find((function(e){var n;return e.username===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)})))}))}),[P]);var E=function(){var e=Object(p.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=5;break}return e.next=3,P.doc(I.id).delete();case 3:e.next=6;break;case 5:P.add({username:Ue.currentUser.displayName,avatarUrl:null===(n=Ue.currentUser)||void 0===n?void 0:n.photoURL});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(Be,{children:[Object(Ie.jsxs)("div",{children:[(null===U||void 0===U?void 0:U.username)===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)?Object(Ie.jsx)(De,{icon:O.f,onClick:L,style:{color:"#CE4B56"}}):Object(Ie.jsx)(De,{icon:Te.d,onClick:L}),Object(Ie.jsx)(De,{icon:Te.b}),Object(Ie.jsx)(De,{icon:Te.e})]}),Object(Ie.jsx)("div",{children:(null===I||void 0===I?void 0:I.username)===(null===(t=Ue.currentUser)||void 0===t?void 0:t.displayName)?Object(Ie.jsx)(De,{icon:O.a,onClick:E,style:{color:"#CE4B56"}}):Object(Ie.jsx)(De,{icon:Te.a,onClick:E})})]}),Object(Ie.jsxs)(Re,{children:[Object(Ie.jsx)(Ve,{onClick:function(){return h.length>0&&i(!0)},children:Object(Ie.jsxs)("strong",{children:[h.length," ",1===h.length?"like":"likes"]})}),Object(Ie.jsx)(Ve,{onClick:function(){return v.length>0&&d(!0)},children:Object(Ie.jsxs)("strong",{children:[v.length," ",1===v.length?"user saved the post":"users saved the post"]})})]}),Object(Ie.jsx)(Ae.a,{title:"Likes",visible:c,onCancel:function(){return i(!1)},footer:null,children:h.map((function(e){return Object(Ie.jsxs)(Fe,{children:[Object(Ie.jsx)(b.a,{src:null===e||void 0===e?void 0:e.avatarUrl,children:e.username[0].toUpperCase()}),Object(Ie.jsx)("strong",{children:e.username})]},e.username)}))}),Object(Ie.jsx)(Ae.a,{title:"Users who saved this post",visible:l,onCancel:function(){return d(!1)},footer:null,children:v.map((function(e){return Object(Ie.jsxs)(Fe,{children:[Object(Ie.jsx)(b.a,{src:null===e||void 0===e?void 0:e.avatarUrl,children:e.username[0].toUpperCase()}),Object(Ie.jsx)("strong",{children:e.username})]},e.username)}))})]})},qe=t(164),He=d.a.div(C||(C=Object(l.a)(["\n  position: relative;\n  display: flex;\n"]))),We=Object(d.a)(x.a)(M||(M=Object(l.a)(["\n  color: black;\n  font-size: 20px;\n  margin-top: 12px;\n  margin-left: 6px;\n"]))),Xe=Object(d.a)(qe.a)(I||(I=Object(l.a)(["\n  border: 0;\n  border-radius: 0;\n  padding: 10px 50px 10px 10px;\n"]))),_e=Object(d.a)(Ae.a)(z||(z=Object(l.a)(["\n  max-height: 80%;\n  overflow-y: auto;\n"]))),Je=Object(d.a)(Ee.a)(N||(N=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  padding: 0 10px 0 5px;\n  height: 100%;\n\n  :hover,\n  :focus {\n    background: transparent;\n    color: #0785f2;\n  }\n"]))),Ke=Object(d.a)(Ee.a)(P||(P=Object(l.a)(["\n  background: transparent;\n  padding: 0 10px;\n  color: inherit;\n  display: flex;\n  align-items: flex-start;\n  border: 0;\n  box-shadow: none;\n  :hover,\n  :focus {\n    background: transparent;\n    color: inherit;\n    outline: none;\n  }\n"]))),Ge=d.a.div(L||(L=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 0 10px;\n  margin-bottom: -2px;\n  div {\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n    text-align: left;\n    max-width: 90%;\n  }\n  strong {\n    margin-right: 10px;\n  }\n  svg {\n    display: none;\n  }\n  :hover {\n    svg {\n      display: block;\n      margin-top: -10px;\n      font-size: 17px;\n      color: grey;\n    }\n  }\n  :focus {\n    border: grey;\n  }\n"]))),Qe=d.a.div(E||(E=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  padding: 0 10px;\n  color: gray;\n  cursor: pointer;\n"]))),Ze=d.a.div(A||(A=Object(l.a)(["\n  overflow-x: scroll;\n"]))),$e=function(e){var n=e.handleDeleteComment,t=e.postCommentsCollection,r=e.comments,i=e.setOpenedCommentsModal,c=e.openedCommentsModal,o=Object(a.useState)(""),l=Object(s.a)(o,2),d=l[0],j=l[1];return Object(Ie.jsxs)("div",{children:[r.length>4?Object(Ie.jsxs)(Qe,{onClick:function(){return r.length>0&&i(!0)},children:["View all ",r.length," ",1===r.length?"comment":"comments"]}):"",r.slice(0,4).map((function(e){var t;return Object(Ie.jsxs)(Ge,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("strong",{children:e.username}),Object(Ie.jsx)(Ze,{children:e.commentText})]}),Object(Ie.jsx)(Ke,{onClick:function(){return n(e.id)},children:e.username===(null===(t=Ue.currentUser)||void 0===t?void 0:t.displayName)?Object(Ie.jsx)(We,{icon:Te.g,style:{marginTop:-1}}):Object(Ie.jsx)(Ie.Fragment,{})})]},e.id)})),Object(Ie.jsxs)(He,{children:[Object(Ie.jsx)(We,{icon:Te.f}),Object(Ie.jsx)(Xe,{value:d,onChange:function(e){return j(e.target.value)},placeholder:"Add a comment"}),Object(Ie.jsx)(Je,{type:"text",onClick:function(){d.trim()&&(t.add({username:Ue.currentUser.displayName,commentText:d,timestamp:Me.firestore.FieldValue.serverTimestamp()}),j(""))},disabled:!d.trim(),children:"Post"})]}),Object(Ie.jsx)(_e,{title:"Comments",visible:c,onCancel:function(){return i(!1)},footer:null,children:r.map((function(e){var t;return Object(Ie.jsxs)(Ge,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("strong",{children:e.username}),Object(Ie.jsx)(Ze,{children:e.commentText})]}),Object(Ie.jsx)(Ke,{onClick:function(){return n(e.id)},children:e.username===(null===(t=Ue.currentUser)||void 0===t?void 0:t.displayName)?Object(Ie.jsx)(We,{icon:Te.g}):Object(Ie.jsx)(Ie.Fragment,{})})]},e.id)}))})]})},en=d.a.div(T||(T=Object(l.a)(["\n  width: 600px;\n  border: 1px solid #e8e8e8;\n  border-radius: 3px;\n  margin: 30px 0;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.05);\n"]))),nn=d.a.div(B||(B=Object(l.a)(["\n  max-height: 800px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  > img {\n    width: 100%;\n    object-fit: contain;\n  }\n"]))),tn=d.a.div(D||(D=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n  padding: 10px;\n  strong {\n    margin-right: 5px;\n  }\n"]))),an=function(e){var n=e.id,t=e.username,r=e.avatarUrl,i=e.imageUrl,c=e.caption,l=e.postId,d=Object(a.useState)([]),j=Object(s.a)(d,2),b=j[0],x=j[1],O=Object(a.useState)(!1),h=Object(s.a)(O,2),f=h[0],m=h[1],g=Object(a.useState)(!1),v=Object(s.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(!1),U=Object(s.a)(S,2),k=U[0],C=U[1],M=Object(a.useState)(!1),I=Object(s.a)(M,2),z=(I[0],I[1],Object(a.useMemo)((function(){return ke.collection("posts").doc(n).collection("comments")}),[n]));Object(a.useEffect)((function(){z.orderBy("timestamp").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));x(n)}))}),[z]);var N=function(){var e=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.doc(n).delete();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.collection("posts").doc(n).delete();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(Ie.jsxs)(en,{children:[Object(Ie.jsx)(Le,{username:t,avatarUrl:r,postId:l,handleDeletePost:P,setIsOpenedUserModal:m}),Object(Ie.jsx)(nn,{children:Object(Ie.jsx)("img",{src:i,alt:"post"})}),Object(Ie.jsx)(Ye,{id:n,setOpenedLikesModal:m,openedLikesModal:f,setOpenedSavePostsModal:C,openedSavePostsModal:k}),Object(Ie.jsxs)(tn,{children:[Object(Ie.jsx)("strong",{children:t}),c]}),Object(Ie.jsx)($e,{handleDeleteComment:N,postCommentsCollection:z,comments:b,openedCommentsModal:y,setOpenedCommentsModal:w})]})},rn=t(47),cn=d.a.div(R||(R=Object(l.a)(["\n  width: 350px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-left: 20px;\n"]))),on=d.a.div(V||(V=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 10px 0;\n"]))),sn=d.a.div(F||(F=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  color: grey;\n  margin: 10px 0;\n"]))),ln=d.a.div(Y||(Y=Object(l.a)(["\n  min-width: 50%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: -1px 40px 0 10px;\n"]))),dn=d.a.div(q||(q=Object(l.a)(["\n  font-size: 12px;\n  color: grey;\n"]))),jn=function(){var e,n,t,r,i=Object(a.useState)([]),c=Object(s.a)(i,2),l=c[0],d=c[1];Object(a.useEffect)((function(){ke.collection("usernames").onSnapshot((function(e){return d(e.docs.map((function(e){return Object(o.a)({},e.data())})))}))}),[]);return Object(Ie.jsxs)(cn,{children:[Object(Ie.jsxs)(on,{children:[Object(Ie.jsx)(b.a,{size:48,src:null===(e=Ue.currentUser)||void 0===e?void 0:e.photoURL}),Object(Ie.jsxs)(ln,{children:[Object(Ie.jsx)("b",{children:null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName}),Object(Ie.jsx)(dn,{children:null===(t=Ue.currentUser)||void 0===t?void 0:t.email})]}),Object(Ie.jsx)(rn.b,{to:"profile",children:"Profile"})]}),Object(Ie.jsxs)(sn,{children:[Object(Ie.jsx)("b",{children:"Suggestions for you"}),Object(Ie.jsx)(rn.b,{to:"/all-users",children:"See al users"})]}),null===(r=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[t],e[t]=a}return e}(l).slice(0,5))||void 0===r?void 0:r.map((function(e,n){return Object(Ie.jsx)(on,{children:Object(Ie.jsxs)(ln,{children:[Object(Ie.jsx)("b",{children:e.username}),Object(Ie.jsx)(dn,{children:e.email})]})},n)}))]})},un=t(106),pn=t(51),bn=t(105),xn=t.n(bn),On=(t(120),d.a.div(H||(H=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n  flex-direction: row;\n  justify-content: flex-start;\n  border: 1px solid #e8e8e8;\n  border-radius: 3px;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.02);\n  width: 600px;\n  position: relative;\n"])))),hn=Object(d.a)(pn.c)(W||(W=Object(l.a)(["\n  width: 600px;\n"]))),fn=d.a.div(X||(X=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n"]))),mn=Object(d.a)(pn.a)(_||(_=Object(l.a)(["\n  position: absolute;\n  top: 35%;\n  left: 1.3%;\n  transform: translateY(-50%);\n  border: 0;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.1);\n  background: white;\n  border-radius: 100%;\n  opacity: 0.6;\n  width: 30px;\n  height: 30px;\n  z-index: 1;\n"]))),gn=Object(d.a)(pn.b)(J||(J=Object(l.a)(["\n  position: absolute;\n  top: 35%;\n  right: 1.3%;\n  transform: translateY(-50%);\n  border: 0;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.1);\n  background: white;\n  border-radius: 100%;\n  opacity: 0.6;\n  width: 30px;\n  height: 30px;\n  z-index: 1;\n"]))),vn=d.a.div(K||(K=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin: 10px 10px;\n  flex-wrap: wrap;\n  width: 500px;\n"]))),yn=d.a.div(G||(G=Object(l.a)(["\n  position: relative;\n  max-width: 800px;\n"]))),wn=Object(d.a)(b.a)(Q||(Q=Object(l.a)(["\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.12);\n  border: 2px solid #538efc;\n"]))),Sn=d.a.div(Z||(Z=Object(l.a)(["\n  font-size: 12px;\n"]))),Un=d.a.div($||($=Object(l.a)(["\n  width: 60%;\n  height: 60%;\n  padding: 83px;\n  top: -94%;\n  position: absolute;\n  z-index: 999;\n"]))),kn=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(0),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],p=j[1];return Object(a.useEffect)((function(){ke.collection("stories").orderBy("timestamp","desc").onSnapshot((function(e){var n=Object.values(e.docs.map((function(e){return e.data()})).reduce((function(e,n){return e[n.username]?e[n.username]=[].concat(Object(un.a)(e[n.username]),[n]):e[n.username]=[n],e}),{}));r(n),l(Math.ceil(n.length/7))}))}),[]),Object(Ie.jsx)("div",{children:t.length>0?Object(Ie.jsxs)(On,{children:[Object(Ie.jsxs)(hn,{naturalSlideWidth:130,naturalSlideHeight:25,totalSlides:o,children:[Object(Ie.jsx)(mn,{children:Object(Ie.jsx)(x.a,{icon:O.c})}),t.length>=8?Object(Ie.jsx)(gn,{children:Object(Ie.jsx)(x.a,{icon:O.d})}):Object(Ie.jsx)(Ie.Fragment,{}),Object(Ie.jsx)(yn,{children:Object(Ie.jsx)(pn.e,{children:Array.from(Array(o)).map((function(e,n){return Object(Ie.jsx)(pn.d,{index:n,children:Object(Ie.jsx)(fn,{children:t.slice(7*n,7*(n+1)).map((function(e,n){return Object(Ie.jsxs)(vn,{onClick:function(){p(e.map((function(e){return e.imageUrl}))),setTimeout((function(){p(null)}),1800*e.length)},children:[Object(Ie.jsx)(wn,{size:55,src:e[0].avatarUrl}),Object(Ie.jsx)(Sn,{children:e[0].username})]},n)}))})},n)}))})})]}),Array.isArray(u)&&Object(Ie.jsx)(Un,{children:Object(Ie.jsx)(xn.a,{stories:u,defaultInterval:1300,width:432,height:768})})]}):Object(Ie.jsx)(Ie.Fragment,{})})},Cn=t.p+"static/media/12345.c2f0dbb2.png",Mn=(t(155),d.a.div(ee||(ee=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  position: relative;\n"])))),In=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)([]),c=Object(s.a)(i,2),l=(c[0],c[1]);return Object(a.useEffect)((function(){ke.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return r(e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())})))}))}),[]),Object(a.useEffect)((function(){ke.collection("postVideo").orderBy("timestamp","desc").onSnapshot((function(e){return l(e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())})))}))}),[]),Object(Ie.jsxs)(Mn,{children:[Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(kn,{}),t.length>0?t.map((function(e){return Object(Ie.jsx)(an,Object(o.a)(Object(o.a)({},e),{},{postId:e.id}),e.id)})):Object(Ie.jsx)("div",{children:Object(Ie.jsx)(an,{postId:"ourPost",imageUrl:Cn,username:"Post"},"1")})]}),Object(Ie.jsx)("div",{children:Object(Ie.jsx)(jn,{})})]})},zn=t.p+"static/media/instaLogo.b0d0d52e.png",Nn=t.p+"static/media/g6.9c8bb715.gif",Pn=t.p+"static/media/g7.8144dd31.gif",Ln=t.p+"static/media/g8.de2c4dcc.gif",En=t.p+"static/media/insta.3dfdbacb.svg",An=t(25),Tn=d.a.div(ne||(ne=Object(l.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Bn=d.a.div(te||(te=Object(l.a)(["\n  width: 30%;\n  height: 60%;\n  border: 1px solid lightgray;\n  border-radius: 4px;\n  border: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 54px;\n  margin-top: -100px;\n  margin-left: 5%;\n"]))),Dn=d.a.div(ae||(ae=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  img {\n    height: 55px;\n    object-fit: contain;\n    margin-bottom: 30px;\n  }\n"]))),Rn=Object(d.a)(qe.a)(re||(re=Object(l.a)(["\n  margin: 7px 0;\n  width: 90%;\n  padding: 5px;\n  :hover,\n  :focus {\n    border-color: #ce4b56;\n    box-shadow: none;\n  }\n"]))),Vn=Object(d.a)(Ee.a)(ie||(ie=Object(l.a)(["\n  margin-top: 22px;\n  margin-bottom: 8px;\n  width: 90%;\n  background: #ce4b56;\n  border-color: #ce4b56;\n  :hover,\n  :focus {\n    border-color: #ce4b56;\n    box-shadow: none;\n    background: #ce4b56;\n  }\n"]))),Fn=d.a.div(ce||(ce=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  font-size: 11px;\n  color: grey;\n"]))),Yn=d.a.div(oe||(oe=Object(l.a)(["\n  width: 70%;\n"]))),qn=d.a.img(se||(se=Object(l.a)(["\n  width: 68%;\n  position: relatiive;\n  left: 50%;\n  transform: translateX(-5%);\n  transform: translateY(-5%);\n"]))),Hn=d.a.img(le||(le=Object(l.a)(["\n  width: 8%;\n  position: absolute;\n  top: 18%;\n  left: 43%;\n"]))),Wn=d.a.img(de||(de=Object(l.a)(["\n  width: 10%;\n  position: absolute;\n  top: 13%;\n  right: 14%;\n"]))),Xn=d.a.img(je||(je=Object(l.a)(["\n  width: 8%;\n  position: absolute;\n  top: 38%;\n  right: 10%;\n"]))),_n=(d.a.span(ue||(ue=Object(l.a)(["\n  color: red;\n"]))),function(e){var n=Object(a.useState)(""),t=Object(s.a)(n,2),r=t[0],i=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],d=o[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),x=b[0],O=b[1],h=Object(An.f)(),f=function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.auth().createUserWithEmailAndPassword(l,x).then((function(e){return Me.firestore().collection("users").doc(e.user.uid).set({username:r,email:l,friends:[]})}));case 3:return e.next=5,Me.firestore().collection("usernames").doc(r).set({username:r,email:l});case 5:return Me.auth().currentUser.updateProfile({displayName:r}),h.push("/home"),e.abrupt("return",{});case 10:e.prev=10,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?15:"auth/invalid-email"===e.t1?16:"auth/weak-password"===e.t1?17:"auth/too-many-requests"===e.t1?18:19;break;case 15:return e.abrupt("return",{error:"E-mail already in use."});case 16:return e.abrupt("return",{error:"Invalid e-mail address format."});case 17:return e.abrupt("return",{error:"Password is too weak."});case 18:return e.abrupt("return",{error:"Too many request. Try again in a minute."});case 19:return e.abrupt("return",{error:"Check your internet connection."});case 20:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Ie.jsx)("div",{children:Object(Ie.jsxs)(Tn,{children:[Object(Ie.jsxs)(Bn,{children:[Object(Ie.jsx)(Dn,{children:Object(Ie.jsx)("img",{src:zn,alt:"logoo"})}),Object(Ie.jsx)(Rn,{placeholder:"Username",value:r,onChange:function(e){return i(e.target.value)}}),Object(Ie.jsx)(Rn,{placeholder:"Email",type:"email",value:l,onChange:function(e){return d(e.target.value)},autoComplete:"username"}),Object(Ie.jsx)(Rn,{placeholder:"password",type:"password",value:x,onChange:function(e){return O(e.target.value)},autoComplete:"new-password"}),Object(Ie.jsx)(Vn,{type:"primary",onClick:f,children:"Sign Up"}),Object(Ie.jsxs)(Fn,{children:[Object(Ie.jsx)("div",{style:{marginRight:3},children:"Have an account? "}),Object(Ie.jsx)(rn.b,{to:"/",children:Object(Ie.jsx)("b",{style:{color:"#CE4B56"},children:" Log in"})})]})]}),Object(Ie.jsxs)(Yn,{children:[Object(Ie.jsx)(qn,{src:En,alt:"sas"}),Object(Ie.jsx)(Hn,{src:Pn,alt:"sas"}),Object(Ie.jsx)(Wn,{src:Ln,alt:"sas"}),Object(Ie.jsx)(Xn,{src:Nn,alt:"sas"})]})]})})}),Jn=d.a.div(pe||(pe=Object(l.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Kn=d.a.div(be||(be=Object(l.a)(["\n  width: 30%;\n  height: 60%;\n  border: 1px solid lightgray;\n  border-radius: 4px;\n  border: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 54px;\n  margin-top: -100px;\n  margin-left: 5%;\n"]))),Gn=d.a.div(xe||(xe=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  img {\n    height: 55px;\n    object-fit: contain;\n    margin-bottom: 30px;\n  }\n"]))),Qn=Object(d.a)(qe.a)(Oe||(Oe=Object(l.a)(["\n  margin: 7px 0;\n  width: 90%;\n  padding: 5px;\n\n  :hover,\n  :focus {\n    border-color: #ce4b56;\n    box-shadow: none;\n  }\n"]))),Zn=Object(d.a)(Ee.a)(he||(he=Object(l.a)(["\n  margin-top: 22px;\n  margin-bottom: 8px;\n  width: 90%;\n  background: #ce4b56;\n  border-color: #ce4b56;\n\n  :hover,\n  :focus {\n    border-color: #ce4b56;\n    box-shadow: none;\n    background: #ce4b56;\n  }\n"]))),$n=d.a.div(fe||(fe=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  font-size: 11px;\n  color: grey;\n"]))),et=d.a.div(me||(me=Object(l.a)(["\n  width: 70%;\n"]))),nt=d.a.img(ge||(ge=Object(l.a)(["\n  width: 68%;\n  position: relatiive;\n  left: 50%;\n  transform: translateX(-5%);\n  transform: translateY(-5%);\n"]))),tt=d.a.img(ve||(ve=Object(l.a)(["\n  width: 8%;\n  position: absolute;\n  top: 18%;\n  left: 43%;\n"]))),at=d.a.img(ye||(ye=Object(l.a)(["\n  width: 10%;\n  position: absolute;\n  top: 13%;\n  right: 14%;\n"]))),rt=d.a.img(we||(we=Object(l.a)(["\n  width: 8%;\n  position: absolute;\n  top: 38%;\n  right: 10%;\n"]))),it=d.a.span(Se||(Se=Object(l.a)(["\n  color: red;\n"]))),ct=function(){var e=Object(a.useState)(""),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),b=j[0],x=j[1],O=Object(An.f)();return Object(Ie.jsxs)(Jn,{children:[Object(Ie.jsxs)(Kn,{children:[Object(Ie.jsx)(Gn,{children:Object(Ie.jsx)("img",{src:zn,alt:"logoo"})}),Object(Ie.jsx)(Qn,{placeholder:"Email",type:"email",value:t,onChange:function(e){return r(e.target.value)},autoComplete:"username"}),Object(Ie.jsx)(Qn,{placeholder:"Password",type:"password",value:o,onChange:function(e){return l(e.target.value)},autoComplete:"new-password"}),Object(Ie.jsx)(it,{children:b}),Object(Ie.jsx)(Zn,{type:"primary",onClick:function(){Ue.signInWithEmailAndPassword(t,o).then(Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.push("/home");case 1:case"end":return e.stop()}}),e)})))).catch((function(e){return x(e.message)}))},children:"Sign Up"}),Object(Ie.jsxs)($n,{children:[Object(Ie.jsx)("div",{style:{marginRight:3},children:"Don't have an account? "}),Object(Ie.jsx)(rn.b,{to:"/signup",children:Object(Ie.jsx)("b",{style:{color:"#CE4B56"},children:" Sign up"})})]})]}),Object(Ie.jsxs)(et,{children:[Object(Ie.jsx)(nt,{src:En,alt:"sas"}),Object(Ie.jsx)(tt,{src:Pn,alt:"sas"}),Object(Ie.jsx)(at,{src:Ln,alt:"sas"}),Object(Ie.jsx)(rt,{src:Nn,alt:"sas"})]})]})},ot=t(169),st=t(162),lt=t(136),dt=t(134),jt=t(168),ut=t(107);var pt,bt,xt,Ot,ht,ft,mt,gt,vt,yt,wt,St,Ut,kt,Ct,Mt,It,zt,Nt,Pt,Lt,Et,At,Tt,Bt,Dt,Rt,Vt,Ft,Yt,qt,Ht,Wt,Xt,_t,Jt,Kt,Gt,Qt=function(e){var n=e.isOpened,t=e.setIsOpen,r=Object(a.useState)(),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(a.useState)(0),j=Object(s.a)(d,2),b=j[0],x=j[1],O=st.a.Dragger,h={onRemove:function(){l(null)},beforeUpload:function(e){return l(e),!1},fileList:c?[c]:[]};return Object(Ie.jsxs)(Ae.a,{title:"Upload avatar",visible:n,onCancel:function(){return t(!1)},onOk:function(){var e="".concat(c.name,"_").concat(Object(ut.a)());Ce.ref("avatars/".concat(e)).put(c).on("stage_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);x(n)}),(function(n){return lt.b.error("".concat(e," failed to upload."))}),(function(){Ce.ref("avatars").child(e).getDownloadURL().then(function(){var e=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.currentUser.updateProfile({photoURL:n});case 2:t(!1),l(),x(0);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}))},children:[Object(Ie.jsxs)(O,Object(o.a)(Object(o.a)({},h),{},{children:[Object(Ie.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Ie.jsx)(jt.a,{})}),Object(Ie.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]})),Object(Ie.jsx)(dt.a,{percent:b})]})},Zt=d.a.div(pt||(pt=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  width: 95%;\n  box-sizing: border-box;\n  padding: 20px 0;\n"]))),$t=Object(d.a)(pn.c)(bt||(bt=Object(l.a)(["\n  width: 950px;\n  height: 200px;\n"]))),ea=Object(d.a)(pn.a)(xt||(xt=Object(l.a)(["\n  position: absolute;\n  top: 35.5%;\n  left: 21%;\n  transform: translateY(-50%);\n  border: 0;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.09);\n  background: white;\n  opacity: 0.6;\n  border-radius: 100%;\n  width: 30px;\n  height: 30px;\n  z-index: 1;\n"]))),na=Object(d.a)(pn.b)(Ot||(Ot=Object(l.a)(["\n  position: absolute;\n  top: 35.5%;\n  right: 23%;\n  transform: translateY(-50%);\n  border: 0;\n  opacity: 0.6;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.09);\n  background: white;\n  border-radius: 100%;\n  width: 30px;\n  height: 30px;\n  z-index: 1;\n"]))),ta=d.a.div(ht||(ht=Object(l.a)(["\n  position: relative;\n  max-width: 800px;\n  margin: auto;\n"]))),aa=d.a.div(ft||(ft=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  position: fixed;\n"]))),ra=d.a.div(mt||(mt=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n  margin: 40px 17px;\n  box-sizing: border-box;\n"]))),ia=Object(d.a)(b.a)(gt||(gt=Object(l.a)(["\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.05);\n"]))),ca=d.a.div(vt||(vt=Object(l.a)(["\n  font-size: 13px;\n"]))),oa=d.a.div(yt||(yt=Object(l.a)(["\n  /* width: 100%;\n  height: 100%; */\n  /* padding: 93px; */\n  top: 7%;\n  /* left: 28%; */\n  position: absolute;\n  z-index: 999;\n"]))),sa=function(){var e=Object(a.useState)(0),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)([]),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),u=j[0],p=j[1];return Object(a.useEffect)((function(){ke.collection("stories").orderBy("timestamp","desc").onSnapshot((function(e){var n=e.docs.filter((function(e){var n;return e.data().username===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)})),t=Object.values(n.map((function(e){return e.data()})).reduce((function(e,n){return e[n.title]?e[n.title]=[].concat(Object(un.a)(e[n.title]),[n]):e[n.title]=[n],e}),{}));l(t),r(Math.ceil(t.length/7))}))}),[]),Object(Ie.jsx)("div",{children:o.length>0?Object(Ie.jsxs)(Zt,{children:[Object(Ie.jsxs)($t,{naturalSlideWidth:100,naturalSlideHeight:125,totalSlides:t,children:[Object(Ie.jsx)(ea,{children:Object(Ie.jsx)(x.a,{icon:O.c})}),o.length>=8?Object(Ie.jsx)(na,{children:Object(Ie.jsx)(x.a,{icon:O.d})}):Object(Ie.jsx)(Ie.Fragment,{}),Object(Ie.jsx)(ta,{children:Object(Ie.jsx)(pn.e,{children:Array.from(Array(t)).map((function(e,n){return Object(Ie.jsx)(pn.d,{index:n,children:Object(Ie.jsx)(aa,{children:o.slice(7*n,7*(n+1)).map((function(e,n){return Object(Ie.jsxs)(ra,{onClick:function(){p(e.map((function(e){return e.imageUrl}))),setTimeout((function(){p(null)}),2e3*e.length)},children:[Object(Ie.jsx)(ia,{size:80,src:e[0].imageUrl}),Object(Ie.jsx)(ca,{children:e[0].title?e[0].title:Object(Ie.jsx)("div",{children:(new Date).toLocaleTimeString("en-En")})})]},n)}))})},n)}))})})]}),Array.isArray(u)&&Object(Ie.jsx)(oa,{children:Object(Ie.jsx)(xn.a,{stories:u,defaultInterval:1300,width:432,height:768})})]}):""})},la=d.a.div(wt||(wt=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 4em;\n  box-sizing: border-box;\n"]))),da=d.a.div(St||(St=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 950px;\n  height: 200px;\n  box-sizing: border-box;\n  margin-bottom: 50px;\n  letter-spacing: 0.6px;\n"]))),ja=d.a.div(Ut||(Ut=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  width: 850px;\n  height: 200px;\n  margin-bottom: 50px;\n  margin-left: 14px;\n"]))),ua=Object(d.a)(ot.a)(kt||(kt=Object(l.a)(["\n  font-size: 56px;\n  color: #fff;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n"]))),pa=d.a.div(Ct||(Ct=Object(l.a)(["\n  position: relative;\n  margin-right: 75px;\n  margin-left: 25px;\n  "," {\n    display: none;\n  }\n  :hover {\n    "," {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 10;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n    }\n  }\n"])),ua,ua),ba=Object(d.a)(b.a)(Mt||(Mt=Object(l.a)(["\n  align-self: center;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.1);\n  span {\n    font-size: 48px;\n  }\n"]))),xa=d.a.div(It||(It=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  flex-grow: 1;\n  margin-top: -10px;\n"]))),Oa=d.a.span(zt||(zt=Object(l.a)(["\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 10px;\n"]))),ha=d.a.div(Nt||(Nt=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]))),fa=d.a.span(Pt||(Pt=Object(l.a)(["\n  font-size: 16px;\n  margin-right: 30px;\n  margin-bottom: 10px;\n"]))),ma=d.a.div(Lt||(Lt=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  width: 900px;\n  border-top: 1px solid lightgrey;\n  padding: 20px 0;\n"]))),ga=d.a.div(Et||(Et=Object(l.a)(["\n  width: max-content;\n  border-top: 2px solid grey;\n  padding: 15px;\n  margin: 0 10px;\n  margin-top: -21px;\n"]))),va=Object(d.a)(x.a)(At||(At=Object(l.a)(["\n  color: #404040;\n  font-size: 15px;\n  margin-right: 6px;\n"]))),ya=d.a.div(Tt||(Tt=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 900px;\n"]))),wa=d.a.div(Bt||(Bt=Object(l.a)(["\n  width: 280px;\n  height: 280px;\n  margin-bottom: 30px;\n  margin-right: 30px;\n\n  :nth-child(3n + 3) {\n    margin-right: 0;\n  }\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),Sa=function(){var e,n,t,r,i,c,l=Object(a.useState)([]),d=Object(s.a)(l,2),j=d[0],u=d[1],p=Object(a.useState)(!1),b=Object(s.a)(p,2),x=b[0],h=b[1];Object(a.useEffect)((function(){ke.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){var n=e.docs.filter((function(e){var n;return e.data().username===(null===(n=Ue.currentUser)||void 0===n?void 0:n.displayName)}));return u(n.map((function(e){return Object(o.a)({id:e.id},e.data())})))}))}),[]);var f=Object(Ie.jsx)(ya,{children:j.map((function(e,n){var t=e.imageUrl;return Object(Ie.jsx)(wa,{children:Object(Ie.jsx)("img",{src:t,alt:"post"})},n)}))});return Object(Ie.jsxs)(la,{children:[Object(Ie.jsxs)(da,{children:[Object(Ie.jsxs)(ja,{children:[Object(Ie.jsxs)(pa,{children:[Object(Ie.jsx)(ua,{onClick:function(){return h(!0)}}),Object(Ie.jsx)(ba,{size:138,src:null===(e=Ue.currentUser)||void 0===e?void 0:e.photoURL,children:null===(n=Ue.currentUser)||void 0===n||null===(t=n.displayName)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase()})]}),Object(Ie.jsxs)(xa,{children:[Object(Ie.jsx)(Oa,{children:null===(i=Ue.currentUser)||void 0===i?void 0:i.displayName}),Object(Ie.jsxs)(ha,{children:[Object(Ie.jsxs)(fa,{children:[j.length,1===j.length?"post":"posts"]}),Object(Ie.jsx)(fa,{children:"234 followers"}),Object(Ie.jsx)(fa,{children:"24 following"})]}),Object(Ie.jsx)("b",{children:null===(c=Ue.currentUser)||void 0===c?void 0:c.email})]})]}),Object(Ie.jsx)(sa,{})]}),j.length>0?Object(Ie.jsx)(ma,{children:Object(Ie.jsxs)(ga,{children:[Object(Ie.jsx)(va,{icon:O.b}),"POSTS"]})}):"",f,Object(Ie.jsx)(Qt,{isOpened:x,setIsOpen:h})]})},Ua=d.a.div(Dt||(Dt=Object(l.a)(["\n  width: 650px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-left: 20px;\n"]))),ka=d.a.div(Rt||(Rt=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 10px 0;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 20px;\n  border-bottom: 1px solid grey;\n  letter-spacing: 0.8px;\n  color: #282828;\n"]))),Ca=d.a.div(Vt||(Vt=Object(l.a)(["\n  font-size: 20px;\n"]))),Ma=d.a.div(Ft||(Ft=Object(l.a)(["\n  min-width: 90%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin: -1px 40px 0 10px;\n"]))),Ia=d.a.div(Yt||(Yt=Object(l.a)(["\n  font-size: 12px;\n  color: grey;\n"]))),za=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)((function(){ke.collection("usernames").onSnapshot((function(e){return r(e.docs.map((function(e){return Object(o.a)({},e.data())})))}))}),[]),Object(Ie.jsx)("div",{children:Object(Ie.jsxs)(Ua,{children:[Object(Ie.jsx)(Ca,{children:"All users"}),null===t||void 0===t?void 0:t.map((function(e,n){return Object(Ie.jsx)(ka,{children:Object(Ie.jsxs)(Ma,{children:[Object(Ie.jsx)("b",{children:e.username}),Object(Ie.jsx)(Ia,{children:e.email})]})},n)}))]})})},Na=t(132),Pa=t.n(Na),La=Object(d.a)(b.a)(qt||(qt=Object(l.a)(["\n  cursor: pointer;\n  margin: 0 20px;\n  box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.1);\n"]))),Ea=function(e){var n=e.username,t=e.avatarUrl,a=e.navigateToPage,r=e.openUploadModal,i=e.openUploadStoryModal,c=e.openUploadVideoModal,o=Object(Ie.jsxs)(h.a,{children:[Object(Ie.jsx)(h.a.Item,{onClick:function(){return a("/home")},children:"Home"},"home"),Object(Ie.jsx)(h.a.Item,{onClick:function(){return a("/profile")},children:"Profile"},"profile"),Object(Ie.jsx)(h.a.Item,{onClick:r,children:"Upload a photo"},"upload"),Object(Ie.jsx)(h.a.Item,{onClick:c,children:"Upload a video"},"uploadVideo"),Object(Ie.jsx)(h.a.Item,{onClick:i,children:"Upload a story"},"uploadStory"),Object(Ie.jsx)(h.a.Item,{onClick:function(){return Ue.signOut()},children:Object(Ie.jsx)(rn.b,{to:"/",children:"Sign Out"})},"logout")]});return Object(Ie.jsx)("div",{children:Object(Ie.jsx)(f.a,{overlay:o,trigger:["click"],children:Object(Ie.jsx)(La,{src:t,children:null===n||void 0===n?void 0:n.charAt(0).toUpperCase()})})})},Aa=function(e){var n=e.title,t=e.onSuccess,r=e.isOpened,i=e.setIsOpen,c=e.folderName,l=e.children,d=Object(a.useState)(),j=Object(s.a)(d,2),b=j[0],x=j[1],O=Object(a.useState)(0),h=Object(s.a)(O,2),f=h[0],m=h[1],g=st.a.Dragger,v={onRemove:function(){x(null)},beforeUpload:function(e){return x(e),!1},fileList:b?[b]:[]};return Object(Ie.jsx)("div",{children:Object(Ie.jsxs)(Ae.a,{title:n,visible:r,onCancel:function(){return i(!1)},onOk:function(){var e="".concat(b.name,"_").concat(Object(ut.a)());Ce.ref("".concat(c,"/").concat(e)).put(b).on("stage_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);m(n)}),(function(n){return lt.b.error("".concat(e," failed to upload."))}),(function(){Ce.ref(c).child(e).getDownloadURL().then(function(){var e=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:i(!1),x(),m(0);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}))},children:[l,Object(Ie.jsxs)(g,Object(o.a)(Object(o.a)({},v),{},{children:[Object(Ie.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Ie.jsx)(jt.a,{})}),Object(Ie.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(Ie.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})),Object(Ie.jsx)(dt.a,{percent:f})]})})},Ta=function(e){var n=e.isOpened,t=e.setIsOpen,r=e.username,i=e.avatarUrl,c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],d=o[1];function j(){return(j=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke.collection("posts").add({caption:l,imageUrl:n,avatarUrl:i,username:r,timestamp:Me.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Ie.jsx)(Aa,{title:"Upload post",isOpened:n,setIsOpen:t,onSuccess:function(e){return j.apply(this,arguments)},folderName:"images",children:Object(Ie.jsx)(qe.a,{placeholder:"Photo caption",value:l,onChange:function(e){return d(e.target.value)}})})},Ba=function(e){var n=e.isOpenStoryModal,t=e.setIsOpenStoryModal,r=e.username,i=e.avatarUrl,c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],d=o[1];function j(){return(j=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke.collection("stories").add({title:l,imageUrl:n,avatarUrl:i,username:r,timestamp:Me.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Ie.jsx)(Aa,{title:"Upload post",isOpened:n,setIsOpen:t,onSuccess:function(e){return j.apply(this,arguments)},folderName:"stories",children:Object(Ie.jsx)(qe.a,{placeholder:"Story title",value:l,onChange:function(e){return d(e.target.value)}})})},Da=function(e){var n=e.isOpenedVideoModal,t=e.setIsOpenedVideoModal,r=e.username,i=e.avatarUrl,c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],d=o[1];function j(){return(j=Object(p.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke.collection("postVideo").add({caption:l,video:n,avatarUrl:i,username:r,timestamp:Me.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Ie.jsx)(Aa,{title:"Upload post",isOpened:n,setIsOpen:t,onSuccess:function(e){return j.apply(this,arguments)},folderName:"images",children:Object(Ie.jsx)(qe.a,{placeholder:"Story title",value:l,onChange:function(e){return d(e.target.value)}})})},Ra=d.a.div(Ht||(Ht=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),Va=d.a.div(Wt||(Wt=Object(l.a)(["\n  width: 100%;\n  position: sticky;\n  z-index: 10;\n  top: 0;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 12px;\n  border-bottom: 1px solid lightgray;\n  margin-bottom: 10px;\n  background-color: white;\n  img {\n    height: 40px;\n    object-fit: contain;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n"]))),Fa=d.a.div(Xt||(Xt=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]))),Ya=Object(d.a)(x.a)(_t||(_t=Object(l.a)(["\n  color: black;\n  font-size: 22px;\n  margin-left: 20px;\n"]))),qa=Object(d.a)(qe.a)(Jt||(Jt=Object(l.a)(["\n  width: 200px;\n"]))),Ha=d.a.div(Kt||(Kt=Object(l.a)(["\n  padding: 24px 0;\n  height: 100%;\n  width: 100%;\n"]))),Wa=d.a.div(Gt||(Gt=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Xa=function(e){var n=e.children,t=Object(a.useState)(),r=Object(s.a)(t,2),i=r[0],c=r[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(!1),p=Object(s.a)(u,2),b=p[0],x=p[1],h=Object(a.useState)(!1),f=Object(s.a)(h,2),m=f[0],g=f[1],v=Object(An.f)();Object(a.useEffect)((function(){var e=Ue.onAuthStateChanged((function(e){c(e)}));return function(){return e()}}),[i]);return Object(Ie.jsxs)(Ra,{children:[Object(Ie.jsxs)(Va,{children:[Object(Ie.jsx)("img",{src:zn,alt:"instaLogo"}),Object(Ie.jsx)(qa,{placeholder:"Search"}),Object(Ie.jsxs)(Fa,{children:[Object(Ie.jsx)(rn.b,{to:"/home",children:Object(Ie.jsx)(Ya,{icon:O.g})}),Object(Ie.jsx)(Ya,{icon:Te.e}),Object(Ie.jsx)(Ya,{icon:Te.c}),Object(Ie.jsx)(Ya,{icon:Te.d}),Object(Ie.jsx)(Ea,{username:null===i||void 0===i?void 0:i.displayName,avatarUrl:null===i||void 0===i?void 0:i.photoURL,openUploadModal:function(){return j(!0)},openUploadStoryModal:function(){return x(!0)},openUploadVideoModal:function(){return g(!0)},navigateToPage:function(e){v.push(e)}})]})]}),Object(Ie.jsx)(Ha,{children:Object(Ie.jsx)(Wa,{children:n})}),Object(Ie.jsx)(Ta,{isOpened:d,setIsOpen:j,username:null===i||void 0===i?void 0:i.displayName,avatarUrl:null===i||void 0===i?void 0:i.photoURL}),Object(Ie.jsx)(Ba,{isOpenStoryModal:b,setIsOpenStoryModal:x,username:null===i||void 0===i?void 0:i.displayName,avatarUrl:null===i||void 0===i?void 0:i.photoURL}),Object(Ie.jsx)(Da,{username:null===i||void 0===i?void 0:i.displayName,avatarUrl:null===i||void 0===i?void 0:i.photoURL,isOpenedVideoModal:m,setIsOpenedVideoModal:g})]})},_a=t(133),Ja=(t(156),Object(_a.a)());var Ka=function(e){var n=e.username;return Object(Ie.jsx)("div",{className:"App",history:Ja,children:Object(Ie.jsx)(rn.a,{children:Object(Ie.jsxs)(An.c,{children:[Object(Ie.jsx)(An.a,{exact:!0,path:"/signup",component:_n}),Object(Ie.jsx)(An.a,{exact:!0,path:"/",component:ct}),Object(Ie.jsxs)(Xa,{children:[Object(Ie.jsx)(An.a,{exact:!0,path:"/home",component:In}),Object(Ie.jsx)(An.a,{exact:!0,path:"/profile",component:Sa}),Object(Ie.jsx)(An.a,{exact:!0,path:"/all-users",component:za}),Object(Ie.jsx)(An.a,{exact:!0,path:"/profile/".concat(n),component:Pa.a})]})]})})})};t(157);c.a.render(Object(Ie.jsx)(r.a.StrictMode,{children:Object(Ie.jsx)(Ka,{})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.9b1636ef.chunk.js.map